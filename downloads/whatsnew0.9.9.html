<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=Shift_JIS">
		<title>Maya 変更点 0.9.8 -> 0.9.9</title>
	</head>
	<body bgcolor="#ffffff">
<h1>変更点 0.9.8 -> 0.9.9</h1>
<ul>
<li>ServiceProviderなどをStrutsなどの外部のフレームワークからも利用できるように、
ThreadLocalを利用してServiceCycleを保持するようにしました。</li>
<li>TemplateProcessor、ScriptResolverといったメソッド引数にServiceCycleを取るものを全て整理し、
ServiceCycleを引数渡しせず、ServiceProviderから取得するようにしました。</li>
<li>例外時やデバッグ作業時に、実行中のテンプレートもしくは設定XMLの該当箇所を知る手がかりを得られるように、
ServiceCycle#getOriginalNode() メソッドおよび、getInjectionNode()メソッドを追加し、
エンジン中で情報更新を常に行うようにしました。</li>
<li>JSP関連の機能およびコンポーネント関連の機能を、コアに移動しました。</li>
<li>同梱するNekoHTMLのバージョンを0.9.5にアップデートしました。</li>
<li>同梱するXercesのバージョンを2.7.1にアップデートしました。</li>
<li>式言語の使用を廃止し、代えてスクリプト言語を利用するようにしました。実装では、
JavaScriptのエンジンである、Rhinoを採用しています。</li>
<li>外部のスクリプトソースファイルを読み込み実行する機能を追加しました。</li>
<li>テンプレートや設定ファイル等のリソース読み込みメカニズムを全面刷新しました。
maya.confファイルをJarのMETA-INFフォルダに配置しています。このことにより、
Mayaのアプリケーションを開発する際に、開発者が行わなければならない手順を簡便化できました。</li>
<li>デフォルトのエラーページのテンプレートを、JarのMETA-INFフォルダ直下に配置しました。</li>
<li>本体、サンプル、テストをそれぞれ別々のEclipseプロジェクトにしました。</li>
<li>ページの解決方法を変更し、/WEB-INF相対と、デフォルトパッケージ相対は読まないようにしました。
それぞれ、/WEB-INF/page相対、/META-INF相対を読むようになっています。</li>
<li>ウェルカムファイルの対応ががデグレして機能していなかったものを修正しました。</li>
<li>ブランクアプリケーションをWARファイルで配布するようにしました。</li>
<li>ページスコープを、スタック構造とすることによって、テンプレート上でのスクリプト実行において、
名前衝突が発生しないようにしました。</li>
<li>BeanPropertiesProcessorおよび、StackTraceElementsProcessorを廃止しました。
スタックトレースのダンプは、ForProcessorとスクリプトの併用で対応できました。</li>
<li>例外処理を行うErrorHandler内でさらに例外が発生したときに、
先のアプリケーションで生じた例外を隠蔽してしまう問題を回避しました。</li>
</ul>
</body>
</html>