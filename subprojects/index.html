<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Sub Projects - JavaServer Templates &quot;Mayaa&quot;</title>
<link href="../css/base.css" rel="stylesheet" type="text/css">
<link href="../css/menu_contents.css" rel="stylesheet" type="text/css">
</head>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" class="background">

<div align="center"><img src="../images/topbar.gif" width="760" height="4"></div>

<div align="center">
<div class="contentslogo"><a href="../index.html" id="menu08"><img src="../images/logo.gif" alt="Mayaa JavaServer Template" width="430" height="48"></a><img src="../images/topstripe.gif" width="330" height="48"></div>
<div class="menusubpro">
<a href="../about/index.html" id="menu01"><img src="images/menu_about.gif" width="125" height="55" border="0"></a><img src="images/menu_div.gif" width="1" height="55"><a href="../news/index.html" id="menu02"><img src="images/menu_news.gif" alt="News" width="126" height="55" border="0"></a><img src="images/menu_div.gif" width="1" height="55"><a href="../documentation/index.html" id="menu03"><img src="images/menu_doc.gif" alt="Documentation" width="126" height="55"></a><img src="images/menu_div.gif" width="1" height="55"><a href="../downloads/index.html" id="menu04"><img src="images/menu_down.gif" alt="downloads" width="126" height="55"></a><img src="images/menu_div.gif" width="1" height="55"><img src="images/menu_subpro_o.gif" width="126" height="55"><img src="images/menu_div.gif" width="1" height="55"><a href="../support/index.html" id="menu06"><img src="images/menu_support.gif" alt="Support" width="126" height="55"></a>
</div>
</div>


<div class="maincontents">
<div id="contentsleft">
<img src="../images/arrow02.gif" align="absmiddle"><a href="../index.html" class="text11px">Top</a>
<div class="sidemenu"><a href="#mayaafaces">Mayaa Faces</a></div>
<div class="sidemenu"><a href="#mayaawebwork2">Mayaa WebWork2</a></div>
<div class="sidemenu"><a href="#matatabi">matatabi</a></div>
<div class="sidemenu"><a href="#mayaastruts2">Struts2 Mayaa Plugin</a></div>
</div>

<div id="contentsright">
<h1>Sub Projects</h1>

<h3><a id="mayaafaces" name="mayaafaces"></a>Mayaa Faces</h3>

<h4>Mayaa Facesとは</h4>
<p>Mayaa FacesはMayaaをテンプレートとしてJavaServer Facesを使うための拡張機能です。現在はまだ十分な機能はありません。</p>

<h4>Download ver 0.3 (2005/11/28)</h4>
<br>
<div class="download_direct">
	<div class="filelink"><a href="../downloads/mayaa-faces-0.3.war"><img src="../images/icon_download_direct.gif" width="24" height="17" align="absmiddle"> Blank War</a></div>
</div>

<h3><a id="mayaawebwork2" name="mayaawebwork2"></a>Mayaa WebWork2</h3>

<h4>Mayaa WebWork2とは</h4>
<p>Mayaa WebWork2は<a href="http://www.opensymphony.com/webwork/">WebWork2</a>からMayaaを利用するための実装を提供します。</p>

<h4>Download ver 1.0.1 (2007/8/13)</h4>
<br>
<div class="download_direct">
	<div class="filelink"><a href="../downloads/mayaa-webwork2-1.0.1.jar"><img src="../images/icon_download_direct.gif" width="24" height="17" align="absmiddle"> Jar</a></div>
	<div class="filelink"><a href="../downloads/mayaa-webwork2-example-1.0.1.war"><img src="../images/icon_download_direct.gif" width="24" height="17" align="absmiddle"> Example War</a></div>
</div>

<h4>利用方法(WebWork2)</h4>
<p>
xwork.xmlのpackage要素内にMayaaResultの定義を追加し、Mayaaを使用するActionにresultの定義を追加します。<br>
locationパラメータでMayaaが処理するHTMLファイルを指定することが出来ます。
locationパラメータを指定しない場合は「actionのname属性.html」というファイルを使用します。
</p>
<pre>
<code>xwork.xml</code>
<span class="file">&lt;!DOCTYPE xwork PUBLIC
  "-//OpenSymphony Group//XWork 1.1.1//EN"
  "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd"&gt;
&lt;xwork&gt;
  &lt;include file="webwork-default.xml" /&gt;
  &lt;package name="default" extends="webwork-default"&gt;
    &lt;result-types&gt;<strong>
      &lt;result-type class="org.seasar.mayaa.webwork.MayaaResult"
        name="mayaa" /&gt;</strong>
    &lt;/result-types&gt;

    &lt;action name="index"
      class="org.seasar.mayaa.webwork.example.action.TestAction"&gt;<strong>
      &lt;result name="success" type="mayaa"&gt;
        &lt;param name="location"&gt;test.html&lt;/param&gt;
      &lt;/result&gt;</strong>
    &lt;/action&gt;
  &lt;/package&gt;
&lt;/xwork&gt;</span></pre>

<h4>利用方法(Mayaa)</h4>
<p>
Mayaa側の設定は不要です。JarファイルをWEB-INF/libに追加すれば、JarファイルのMETA-INF内の設定ファイルが自動で読み込まれるようになります。<br>
あとはMayaaファイルの属性部分で以下のように指定すればActionのプロパティなど、ValueStack経由でアクセスできるオブジェクトをMayaa側で使用できるようになります。
ValueStackのオブジェクトにアクセスする際のプレフィックスは「ww」ですが、省略することも出来ます。
</p>
<pre>
<code>prefix指定時</code>
<span class="file">&lt;m:write value="&#36;{ww.プロパティ名}" /&gt;</span>
<code>prefix省略時</code>
<span class="file">&lt;m:write value="&#36;{プロパティ名}" /&gt;</span>
</pre>

<h4>変更履歴</h4>
<h5><a id="ver1.0.1" name="ver1.0.1"></a>変更点 1.0.0 -> 1.0.1 (2007/08/13)</h5>
<ul>
<li class="fix">相対パス指定の場合にpathInfoの始まりが"/"でなかったのを修正しました<a href="https://www.seasar.org/issues/browse/MAYAA-34">[MAYAA-34]</a></li>
<li class="fix">Engine#doServiceの後にCycleUtil#cycleFinalizeを呼び出していなかったのを修正しました<a href="https://www.seasar.org/issues/browse/MAYAA-35">[MAYAA-35]</a></li>
</ul>

<h3><a id="matatabi" name="matatabi"></a>matatabi - Mayaa Plugin</h3>

<h4>matatabiとは</h4>
<p>matatabiはMayaaファイルやHTMLファイルの編集を支援するEclipseプラグインです。</p>

<h4>インストール</h4>
<p>
現在の最新バージョンは1.2.4です。動作にはEclipse3.3以上とWTP2.0以上が必要となります。
以下の更新サイトからmatatabiを選んでインストールしてください。
</p>
<p><a href="http://eclipse.seasar.org/updates/3.3/">http://eclipse.seasar.org/updates/3.3/</a></p>

<h4>機能</h4>
<ul>
	<li>エディタ機能
		<ul>
			<li>Mayaaで用意されているプロセッサの入力補完</li>
			<li>HTML,Mayaaファイルでのid属性の値の補完</li>
			<li>Mayaaファイルでのタグライブラリの補完</li>
			<li>Mayaaファイルでのタグライブラリの名前空間の補完</li>
			<li>HTML,Mayaaファイルでのm:id属性入力支援</li>
			<li>HTMLファイルでm:id付きのspanタグ入力支援</li>
			<li>HTML,MayaaファイルとActionクラスの切り替え</li>
			<li>HTMLファイルを外部ブラウザで開く</li>
			<li>Mayaaファイルの静的チェック</li>
		</ul>
	</li>
	<li>自動生成機能
		<ul>
			<li>Mayaaファイルの雛形生成機能</li>
			<li>既存のMayaaファイルへの雛形追加機能</li>
		</ul>
	</li>
</ul>

<h4>利用方法</h4>
<p>同梱のヘルプを参照してください</p>

<h4>変更履歴</h4>
<h5><a id="matatabi_ver1.2.4" name="matatabi_ver1.2.4"></a>変更点 1.2.3 -> 1.2.4 (2008/07/02)</h5>
<ul>
<li class="fix">プロジェクト以外のプロパティ画面でMatatabiの設定ページが表示されていたのを修正しました</li>
<li class="fix">HTMLファイルのid属性値の補完でdefault.mayaaに定義しているidが表示されていなかったのを修正しました</li>
<li class="fix">HTMLファイルのid属性値の補完がMayaaの名前空間でしか動いていなかったのを修正しました</li>
<li class="fix">HTMLファイルのタグ入力補完で設定にかかわらず大文字が使用されていたのを修正しました</li>
</ul>

<h5><a id="matatabi_ver1.2.3" name="matatabi_ver1.2.3"></a>変更点 1.2.2 -> 1.2.3 (2008/04/06)</h5>
<ul>
<li class="enhance">エディタ切り替え機能でActionクラスが無い場合に新規作成出来るようにしました</li>
<li class="enhance">エディタ切り替え機能でアンダースコアやハイフンを使ったファイル名に対応しました</li>
<li class="other">右クリックメニューを廃止しました</li>
</ul>


<h5><a id="matatabi_ver1.2.2" name="matatabi_ver1.2.2"></a>変更点 1.2.1 -> 1.2.2 (2008/03/16)</h5>
<ul>
<li class="enhance">自動生成の雛形設定で処理対象のタグの指定方法をXPathで行うように変更しました</li>
</ul>

<h5><a id="matatabi_ver1.2.1" name="matatabi_ver1.2.1"></a>変更点 1.2.0 -> 1.2.1 (2008/02/16)</h5>
<ul>
<li class="enhance">[MAYAA-44] Actionクラスのパッケージ（サフィックス）を指定できるようにしました</li>
<li class="fix">[MAYAA-43] Mayaaエディターで編集メニューが使用できなくなっていたのを修正しました</li>
<li class="fix">[MAYAA-45] Webルートパスの下にディレクトリがあった場合にHTMLとMayaa間の移動ができなかったのを修正しました</li>
<li class="fix">メニューの項目や設定を整理しました</li>
</ul>

<h5><a id="matatabi_ver1.2.0" name="matatabi_ver1.2.0"></a>変更点 1.1.1 -> 1.2.0 (2007/09/12)</h5>
<ul>
<li class="enhance">HTMLファイルでのm:idの属性値の補完に対応しました</li>
<li class="enhance">HTML,Mayaaファイルでのm:id属性の入力を支援する機能を追加しました</li>
<li class="enhance">HTMLファイルでのm:id属性付きspanタグの入力を支援する機能を追加しました</li>
<li class="enhance"><a href="../documentation/template_suffix.html">テンプレート切り替え機能</a>に対応しました</li>
<li class="enhance">mayaaタグに対する属性の補完に対応しました</li>
<li class="enhance">Validator機能のON/OFFを設定ページに追加しました</li>
<li class="enhance">テンプレートファイルのm:idのみを処理対象にする設定を設定ページに追加しました</li>
<li class="fix">バリデータでエラーになった箇所はそれ以降のバリデーションをしないように修正しました</li>
<li class="fix">バリデータのエラーレベルを「エラー」にした際、設定値が消えていたのを修正しました</li>
<li class="fix">フルビルドの際にエラーマーカーを消していなかったのを修正しました</li>
</ul>

<h5><a id="matatabi_ver1.1.1" name="matatabi_ver1.1.1"></a>変更点 1.1.0 -> 1.1.1 (2007/07/09)</h5>
<ul>
<li class="enhance">HTMLエディタと同じ機能をWTPのWebPageEditorで使用できるようにしました</li>
<li class="fix">HTMLのid属性の取得方法が誤っていたのを修正しました</li>
<li class="fix">プロジェクト直下のファイルの場合に補完機能でエラーが出ていたのを修正しました</li>
</ul>

<h5><a id="matatabi_ver1.1.0" name="matatabi_ver1.1.0"></a>変更点 1.0.0 -> 1.1.0 (2007/07/05)</h5>
<ul>
<li class="enhance">HTML,MayaaファイルとActionクラスのエディタ切り替え機能を追加しました</li>
<li class="fix">タグライブラリの名前空間の入力補完を変更しました</li>
<li class="fix">編集途中のMayaaファイルで入力補完を行う際にエラーが発生する場合があったため修正しました</li>
</ul>

<h5><a id="matatabi_ver1.0.0" name="matatabi_ver1.0.0"></a>変更点 0.5.0 -> 1.0.0 (2007/07/03)</h5>
<ul>
<li class="enhance">タグライブラリの入力補完機能を追加しました</li>
<li class="enhance">タグライブラリの名前空間の入力補完機能を追加しました</li>
</ul>

<h5><a id="matatabi_ver0.5.0" name="matatabi_ver0.5.0"></a>変更点 0.4.0 -> 0.5.0 (2007/05/28)</h5>
<ul>
<li class="enhance">自動生成するMayaaファイルの名前空間を指定できるようにしました</li>
<li class="enhance">自動生成するMayaaファイルの変換ルールを指定できるようにしました</li>
<li class="fix">default.mayaaファイルがない場合に自動生成機能でエラーが出ていたのを修正しました</li>
<li class="fix">プロジェクト直下のファイルの場合に自動生成機能でエラーが出ていたのを修正しました</li>
<li class="fix">属性値の補完機能が動いていなかったのを修正しました</li>
<li class="fix">HTMLファイルを開く機能が動いていなかったのを修正しました</li>
</ul>

<h5><a id="matatabi_ver0.4.0" name="matatabi_ver0.4.0"></a>変更点 0.3.0 -> 0.4.0 (2007/05/24)</h5>
<ul>
<li class="enhance">プロジェクトごとにmatatabiを使用するか選べるようにしました</li>
<li class="enhance">Mayaaファイルの静的チェック機能を追加しました</li>
<li class="enhance">Mayaaファイルを自動生成する際に、確認のダイアログを表示するようにしました</li>
</ul>


<h3><a id="mayaastruts2" name="mayaastruts22"></a>Struts2 Mayaa Plugin</h3>

<h4>Struts2 Mayaa Pluginとは</h4>
<p>Struts2 Mayaa Pluginは<a href="http://struts.apache.org/2.x/">Struts2</a>からMayaaを利用するための実装を提供します。</p>

<h4>Download ver 1.0.1 (2007/8/13)</h4>
<br>
<div class="download_direct">
	<div class="filelink"><a href="../downloads/struts2-mayaa-plugin-1.0.1.jar"><img src="../images/icon_download_direct.gif" width="24" height="17" align="absmiddle"> Jar</a></div>
	<div class="filelink"><a href="../downloads/struts2-mayaa-plugin-example-1.0.1.war"><img src="../images/icon_download_direct.gif" width="24" height="17" align="absmiddle"> Example War</a></div>
</div>

<h4>利用方法(Struts2)</h4>
<p>
struts.xmlのpackage要素内にMayaaResultの定義を追加し、Mayaaを使用するActionにresultの定義を追加します。<br>
locationパラメータでMayaaが処理するHTMLファイルを指定することが出来ます。
locationパラメータを指定しない場合は「actionのname属性.html」というファイルを使用します。
</p>
<pre>
<code>struts.xml</code>
<span class="file">&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
&lt;struts&gt;
  &lt;package name="default" extends="struts-default"&gt;
    &lt;result-types&gt;<strong>
      &lt;result-type class="org.seasar.mayaa.struts2.MayaaResult"
        name="mayaa" /&gt;</strong>
    &lt;/result-types&gt;

    &lt;action name="index"
      class="org.seasar.mayaa.struts2.example.action.TestAction"&gt;<strong>
      &lt;result name="success" type="mayaa"&gt;
        &lt;param name="location"&gt;test.html&lt;/param&gt;
      &lt;/result&gt;</strong>
    &lt;/action&gt;
  &lt;/package&gt;
&lt;/struts&gt;</span></pre>

<p>またStruts2 Mayaa Pluginで用意されているmayaa-defaultパッケージを継承すれば、MayaaResultの定義は不要になります</p>
<pre>
<code>struts.xml</code>
<span class="file">&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
&lt;struts&gt;
  &lt;package name="default" extends="mayaa-default"&gt;
    &lt;action name="index"
      class="org.seasar.mayaa.struts2.example.action.TestAction"&gt;<strong>
      &lt;result name="success" type="mayaa"&gt;
        &lt;param name="location"&gt;test.html&lt;/param&gt;
      &lt;/result&gt;</strong>
    &lt;/action&gt;
  &lt;/package&gt;
&lt;/struts&gt;</span></pre>
<h4>利用方法(Mayaa)</h4>
<p>
Mayaa側の設定は不要です。JarファイルをWEB-INF/libに追加すれば、JarファイルのMETA-INF内の設定ファイルが自動で読み込まれるようになります。<br>
あとはMayaaファイルの属性部分で以下のように指定すればActionのプロパティなど、ValueStack経由でアクセスできるオブジェクトをMayaa側で使用できるようになります。
ValueStackのオブジェクトにアクセスする際のプレフィックスは「struts2」ですが、省略することも出来ます。
</p>
<pre>
<code>prefix指定時</code>
<span class="file">&lt;m:write value="&#36;{struts2.プロパティ名}" /&gt;</span>
<code>prefix省略時</code>
<span class="file">&lt;m:write value="&#36;{プロパティ名}" /&gt;</span>
</pre>

<h4>変更履歴</h4>
<h5><a id="ver1.0.1" name="ver1.0.1"></a>変更点 1.0.0 -> 1.0.1 (2007/08/13)</h5>
<ul>
<li class="fix">相対パス指定の場合にpathInfoの始まりが"/"でなかったのを修正しました</li>
<li class="fix">Engine#doServiceの後にCycleUtil#cycleFinalizeを呼び出していなかったのを修正しました</li>
</ul>

</div>

<div class="copyrights" align="center">
<img src="../images/copyrights.gif" alt="Copyright (c) 2004-2008 the Seasar Foundation and others. all rights reserved." width="760" height="20">
</div>
</div>
</body>
</html>